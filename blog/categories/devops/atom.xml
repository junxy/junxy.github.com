<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Devops | Junior's Blog]]></title>
  <link href="http://pcme.info/blog/categories/devops/atom.xml" rel="self"/>
  <link href="http://pcme.info/"/>
  <updated>2019-04-25T11:45:25+08:00</updated>
  <id>http://pcme.info/</id>
  <author>
    <name><![CDATA[Junior Hsu]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[终于解决Jenkins中Git仓库变更集中文注释显示乱码问题]]></title>
    <link href="http://pcme.info/blog/2013/01/11/jenkins-git-changes-mojibake/"/>
    <updated>2013-01-11T03:17:00+08:00</updated>
    <id>http://pcme.info/blog/2013/01/11/jenkins-git-changes-mojibake</id>
    <content type="html"><![CDATA[<p>问题描叙： 借用这个图片，也是这位仁兄提到的问题（http://bbs.51cto.com/thread-952489-1.html）
<img src="http://img2.51cto.com/attachments/month_1209/20120903_7e526eb2c0772fad70c68EbGhmDiVZme.png.thumb.jpg" alt="Jenkins使用Git仓库变更集乱码图示" /></p>

<p>解决方法：</p>

<p>x:\Jenkins\jenkins.xml 新增<del>蓝色</del>粗体标记参数(-Dfile.encoding=utf-8)，然后重启Jenkins服务，完毕！</p>

<p>&lt;arguments>-Xrs -Xmx256m <strong>-Dfile.encoding=utf-8</strong> -Dhudson.lifecycle=hudson.lifecycle.WindowsServiceLifecycle -jar "%BASE%\jenkins.war" --httpPort=8080&lt;/arguments></p>

<p>原因： 为什么Jenkins 使用 SVN 仓库不会出现非 ANSI 字符乱码，因为 Git 插件获取变更集时 保存的不是 XML格式文档，虽然后缀都 .xml ，这就导致了显示的时候不知道已什么编码方式来显示，就使用了系统默认编码，中文的也就是 GBK。 而 GIT Commit 注释默认是 UTF-8。</p>

<p><strong>更新</strong>：发现 msbuild 输出的 log 显示时乱码，想到把 cmd 页码也该为 UTF-8，最后试验了，问题解决。中文系统默认代码页 936 ，需要改为 65001，通过修改注册表的方式：参考：<a href="http://hi.baidu.com/study_together/item/b6dda48330b99be1e496e0f9">http://hi.baidu.com/study_together/item/b6dda48330b99be1e496e0f9</a></p>

<p><strong>2013/04/10更新</strong>：已经有更好的方式来解决:<a href="http://pcme.info/blog/2013/04/10/jenkins-git-changes-mojibake-2/">（二）</a></p>
]]></content>
  </entry>
  
</feed>
